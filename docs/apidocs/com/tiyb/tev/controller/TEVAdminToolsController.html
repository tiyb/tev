<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_252) on Thu Jun 18 16:08:33 UTC 2020 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TEVAdminToolsController (tev v10.3.5 API)</title>
<meta name="date" content="2020-06-18">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TEVAdminToolsController (tev v10.3.5 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TEVAdminToolsController.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../com/tiyb/tev/controller/TEVAnswerController.html" title="class in com.tiyb.tev.controller"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/tiyb/tev/controller/TEVAdminToolsController.html" target="_top">Frames</a></li>
<li><a href="TEVAdminToolsController.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.tiyb.tev.controller</div>
<h2 title="Class TEVAdminToolsController" class="title">Class TEVAdminToolsController</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.tiyb.tev.controller.TEVAdminToolsController</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@RestController
 @RequestMapping(value="/admintools")
public class <span class="typeNameLabel">TEVAdminToolsController</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block"><p>
 A REST controller with some administration tools for working with the database behind the scenes.
 </p>

 <p>
 If TEV were ever to become anything more than just a local application, proper security would be
 needed around these operations, but since that's not the case the security is lax. None of these
 APIs are ever intended to be used by the UI.
 </p></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>tiyb</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/tiyb/tev/controller/TEVAdminToolsController.html#errorCopyingFilesMessage">errorCopyingFilesMessage</a></span></code>
<div class="block">Localized message used when an error is encountered copying media files</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/tiyb/tev/controller/TEVAdminToolsController.html#INVALID_IMAGE_DIRECTORY">INVALID_IMAGE_DIRECTORY</a></span></code>
<div class="block">Used for logging errors related to bad image directories</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/tiyb/tev/controller/TEVAdminToolsController.html#invalidImagesMessage">invalidImagesMessage</a></span></code>
<div class="block">Localized message returned from the API when the images directory in metadata is invalid.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/tiyb/tev/controller/TEVAdminToolsController.html#invalidSourceImagesMessage">invalidSourceImagesMessage</a></span></code>
<div class="block">Localized message used when the source images directory is not valid</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private org.springframework.jdbc.core.JdbcTemplate</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/tiyb/tev/controller/TEVAdminToolsController.html#jdbcTemplate">jdbcTemplate</a></span></code>
<div class="block">The JDBC template to be used for operations within the controller.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private org.slf4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/tiyb/tev/controller/TEVAdminToolsController.html#logger">logger</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../com/tiyb/tev/controller/TEVMetadataRestController.html" title="class in com.tiyb.tev.controller">TEVMetadataRestController</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/tiyb/tev/controller/TEVAdminToolsController.html#mdController">mdController</a></span></code>
<div class="block">The REST controller used for working with settings/metadata.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../com/tiyb/tev/controller/TEVPostRestController.html" title="class in com.tiyb.tev.controller">TEVPostRestController</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/tiyb/tev/controller/TEVAdminToolsController.html#postController">postController</a></span></code>
<div class="block">The REST controller used for working with posts</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../com/tiyb/tev/repository/PostRepository.html" title="interface in com.tiyb.tev.repository">PostRepository</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/tiyb/tev/controller/TEVAdminToolsController.html#postRepo">postRepo</a></span></code>
<div class="block">The underlying repo used for posts</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/tiyb/tev/controller/TEVAdminToolsController.html#successMessage">successMessage</a></span></code>
<div class="block">Success message returned from the API.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/tiyb/tev/controller/TEVAdminToolsController.html#TEVAdminToolsController--">TEVAdminToolsController</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>org.springframework.http.ResponseEntity&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/tiyb/tev/controller/TEVAdminToolsController.html#cleanImagesOnHDForBlog-java.lang.String-">cleanImagesOnHDForBlog</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;blog)</code>
<div class="block">GET request to delete all of the duplicate images that end up on the hard drive, coming from
 the Tumblr export, for a given blog.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../com/tiyb/tev/datamodel/Post.html" title="class in com.tiyb.tev.datamodel">Post</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/tiyb/tev/controller/TEVAdminToolsController.html#getPostsByBlogByType-java.lang.String-java.lang.String-">getPostsByBlogByType</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;blog,
                    <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;type)</code>
<div class="block">GET to return a list of posts by a particular type for a given blog</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>org.springframework.http.ResponseEntity&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/tiyb/tev/controller/TEVAdminToolsController.html#importImagesForBlog-java.lang.String-java.lang.String-">importImagesForBlog</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;blog,
                   <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;imagePath)</code>
<div class="block">Copies all files from a source directory (posted as the body of the request) to the images
 directory stored in the metadata.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>org.springframework.http.ResponseEntity&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/tiyb/tev/controller/TEVAdminToolsController.html#markAllPostsReadForBlog-java.lang.String-">markAllPostsReadForBlog</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;blog)</code>
<div class="block">GET request to mark all posts in the database as read for a given blog</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>org.springframework.http.ResponseEntity&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/tiyb/tev/controller/TEVAdminToolsController.html#markAllPostsUnreadForBlog-java.lang.String-">markAllPostsUnreadForBlog</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;blog)</code>
<div class="block">GET request to mark all posts in the database as unread</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/tiyb/tev/controller/TEVAdminToolsController.html#preDestroy--">preDestroy</a></span>()</code>
<div class="block">Used to compact the database upon shutdown.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="INVALID_IMAGE_DIRECTORY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INVALID_IMAGE_DIRECTORY</h4>
<pre>private static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> INVALID_IMAGE_DIRECTORY</pre>
<div class="block">Used for logging errors related to bad image directories</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.tiyb.tev.controller.TEVAdminToolsController.INVALID_IMAGE_DIRECTORY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="logger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logger</h4>
<pre>private&nbsp;org.slf4j.Logger logger</pre>
</li>
</ul>
<a name="jdbcTemplate">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>jdbcTemplate</h4>
<pre>@Autowired
private&nbsp;org.springframework.jdbc.core.JdbcTemplate jdbcTemplate</pre>
<div class="block">The JDBC template to be used for operations within the controller.</div>
</li>
</ul>
<a name="postController">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postController</h4>
<pre>@Autowired
private&nbsp;<a href="../../../../com/tiyb/tev/controller/TEVPostRestController.html" title="class in com.tiyb.tev.controller">TEVPostRestController</a> postController</pre>
<div class="block">The REST controller used for working with posts</div>
</li>
</ul>
<a name="mdController">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mdController</h4>
<pre>@Autowired
private&nbsp;<a href="../../../../com/tiyb/tev/controller/TEVMetadataRestController.html" title="class in com.tiyb.tev.controller">TEVMetadataRestController</a> mdController</pre>
<div class="block">The REST controller used for working with settings/metadata.</div>
</li>
</ul>
<a name="postRepo">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postRepo</h4>
<pre>@Autowired
private&nbsp;<a href="../../../../com/tiyb/tev/repository/PostRepository.html" title="interface in com.tiyb.tev.repository">PostRepository</a> postRepo</pre>
<div class="block">The underlying repo used for posts</div>
</li>
</ul>
<a name="successMessage">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>successMessage</h4>
<pre>@Value(value="${controllers.admintools.success}")
private&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> successMessage</pre>
<div class="block">Success message returned from the API.</div>
</li>
</ul>
<a name="invalidImagesMessage">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invalidImagesMessage</h4>
<pre>@Value(value="${controllers.admintools.invalidImagesDirectory}")
private&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> invalidImagesMessage</pre>
<div class="block">Localized message returned from the API when the images directory in metadata is invalid.</div>
</li>
</ul>
<a name="invalidSourceImagesMessage">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invalidSourceImagesMessage</h4>
<pre>@Value(value="${controllers.admintools.invalidSourceImagesDirectory}")
private&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> invalidSourceImagesMessage</pre>
<div class="block">Localized message used when the source images directory is not valid</div>
</li>
</ul>
<a name="errorCopyingFilesMessage">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>errorCopyingFilesMessage</h4>
<pre>@Value(value="${controllers.admintools.errorCopyingFiles}")
private&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> errorCopyingFilesMessage</pre>
<div class="block">Localized message used when an error is encountered copying media files</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TEVAdminToolsController--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TEVAdminToolsController</h4>
<pre>public&nbsp;TEVAdminToolsController()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="preDestroy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>preDestroy</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/PreDestroy.html?is-external=true" title="class or interface in javax.annotation">@PreDestroy</a>
public&nbsp;void&nbsp;preDestroy()</pre>
<div class="block">Used to compact the database upon shutdown. This causes shutdown to take longer, but it's not
 very noticeable for an application of this size with a local DB.</div>
</li>
</ul>
<a name="getPostsByBlogByType-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPostsByBlogByType</h4>
<pre>@GetMapping(value="/posts/{blog}/type/{type}")
public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../com/tiyb/tev/datamodel/Post.html" title="class in com.tiyb.tev.datamodel">Post</a>&gt;&nbsp;getPostsByBlogByType(@PathVariable(value="blog")
                                                                                      <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;blog,
                                                                                      @PathVariable(value="type")
                                                                                      <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;type)</pre>
<div class="block">GET to return a list of posts by a particular type for a given blog</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>blog</code> - Blog for which posts should be returned</dd>
<dd><code>type</code> - The type of post to return</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List of Posts</dd>
</dl>
</li>
</ul>
<a name="markAllPostsReadForBlog-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markAllPostsReadForBlog</h4>
<pre>@GetMapping(value="/posts/{blog}/markAllRead")
public&nbsp;org.springframework.http.ResponseEntity&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;markAllPostsReadForBlog(@PathVariable(value="blog")
                                                                                                                              <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;blog)</pre>
<div class="block">GET request to mark all posts in the database as read for a given blog</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>blog</code> - Blog for which the posts should be marked read</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Success indicator</dd>
</dl>
</li>
</ul>
<a name="markAllPostsUnreadForBlog-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markAllPostsUnreadForBlog</h4>
<pre>@GetMapping(value="/posts/{blog}/markAllUnread")
public&nbsp;org.springframework.http.ResponseEntity&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;markAllPostsUnreadForBlog(@PathVariable(value="blog")
                                                                                                                                  <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;blog)</pre>
<div class="block">GET request to mark all posts in the database as unread</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>blog</code> - Name of the blog for which posts should be marked unread</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Success indicator</dd>
</dl>
</li>
</ul>
<a name="cleanImagesOnHDForBlog-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanImagesOnHDForBlog</h4>
<pre>@GetMapping(value="/posts/{blog}/cleanImagesOnHD")
public&nbsp;org.springframework.http.ResponseEntity&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;cleanImagesOnHDForBlog(@PathVariable(value="blog")
                                                                                                                                 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;blog)</pre>
<div class="block">GET request to delete all of the duplicate images that end up on the hard drive, coming from
 the Tumblr export, for a given blog. For photo posts, when the images are actually in the
 export, Tumblr includes duplicates of every image, such that there are twice as many images
 stored on the HD as necessary. This helper API retrieves all Photo posts, checks how many
 images are supposed to be there, then looks at the HD to see the number of files there. If
 there are exactly twice as many images as there should be, the duplicates are deleted.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>blog</code> - Blog for which images should be cleaned</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String indicating the success or failure of the process</dd>
</dl>
</li>
</ul>
<a name="importImagesForBlog-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>importImagesForBlog</h4>
<pre>@PostMapping(value="/posts/{blog}/importImages")
public&nbsp;org.springframework.http.ResponseEntity&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;importImagesForBlog(@PathVariable(value="blog")
                                                                                                                            <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;blog,
                                                                                                                            @RequestBody
                                                                                                                            <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;imagePath)</pre>
<div class="block">Copies all files from a source directory (posted as the body of the request) to the images
 directory stored in the metadata. Calls the <a href="../../../../com/tiyb/tev/controller/TEVAdminToolsController.html#cleanImagesOnHDForBlog-java.lang.String-"><code>cleanImagesOnHDForBlog()</code></a> method when it's done, to clean the directory back up.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>blog</code> - The name of the blog for which images shoudl be imported</dd>
<dd><code>imagePath</code> - The path of the source directory, from whence images should be retrieved.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Success/failure message</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TEVAdminToolsController.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../com/tiyb/tev/controller/TEVAnswerController.html" title="class in com.tiyb.tev.controller"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/tiyb/tev/controller/TEVAdminToolsController.html" target="_top">Frames</a></li>
<li><a href="TEVAdminToolsController.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2020. All rights reserved.</small></p>
</body>
</html>
